<!DOCTYPE html>
<html>

<head>
    <title>Start Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
    <h1>Hello World!</h1>
    <input id="textMessage" type="text">
    <input onClick="sendMessage()" value="send Message" type="button">
    <br>
    <textarea id="messagesTextArea" rows="10" cols="50"></textarea>
    <script type="text/javascript">
        var messages = document.getElementById("messagesTextArea");
        var textMessage = document.getElementById("textMessage");

        var ws = new WebSocket('ws://localhost:8084/wsTesting/test');

        ws.onopen = function (message) { processOpen(message); };
        ws.onclose = function (message) { processClose(message); };
        ws.onmessage = function (message) { processMessage(message); };

        function processOpen(message) {
            messages.value += 'Server Connected...\n';
        }

        function processClose(message) {
            wa.send('client disconnected...');
            messages.value += 'Server disconnected...\n';
        }

        function sendMessage(message) {
            ws.send(textMessage.value);
            messages.value += 'send to server -> ' + textMessage.value + '\n';
            textMessage.value = '';
        }

        function processMessage(message) {
            messages.value += 'received from server ->' + message.data + '\n';
        }

    </script>
</body>

</html>